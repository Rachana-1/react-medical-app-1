{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Downloads\\\\Test HTML\\\\react-medical-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Downloads\\\\Test HTML\\\\react-medical-app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\nimport auth from 'solid-auth-client';\nimport ldflex from '@solid/query-ldflex';\nimport { errorToaster } from \"./\";\nexport var documentExists = /*#__PURE__*/function () {\n  var _ref = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(documentUri) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", auth.fetch(documentUri, {\n              headers: {\n                'Content-Type': 'text/turtle'\n              }\n            }));\n\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n\n  return function documentExists(_x) {\n    return _ref.apply(this, arguments);\n  };\n}();\nexport var createDoc = /*#__PURE__*/function () {\n  var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(documentUri, options) {\n    return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.prev = 0;\n            _context2.next = 3;\n            return auth.fetch(documentUri, options);\n\n          case 3:\n            return _context2.abrupt(\"return\", _context2.sent);\n\n          case 6:\n            _context2.prev = 6;\n            _context2.t0 = _context2[\"catch\"](0);\n            throw _context2.t0;\n\n          case 9:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _callee2, null, [[0, 6]]);\n  }));\n\n  return function createDoc(_x2, _x3) {\n    return _ref2.apply(this, arguments);\n  };\n}();\nexport var deleteFile = /*#__PURE__*/function () {\n  var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(url) {\n    return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            _context3.prev = 0;\n            _context3.next = 3;\n            return auth.fetch(url, {\n              method: 'DELETE'\n            });\n\n          case 3:\n            return _context3.abrupt(\"return\", _context3.sent);\n\n          case 6:\n            _context3.prev = 6;\n            _context3.t0 = _context3[\"catch\"](0);\n            throw _context3.t0;\n\n          case 9:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _callee3, null, [[0, 6]]);\n  }));\n\n  return function deleteFile(_x4) {\n    return _ref3.apply(this, arguments);\n  };\n}();\nexport var createDocument = /*#__PURE__*/function () {\n  var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4(documentUri) {\n    var body,\n        options,\n        _args4 = arguments;\n    return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            body = _args4.length > 1 && _args4[1] !== undefined ? _args4[1] : '';\n            _context4.prev = 1;\n            options = {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'text/turtle'\n              },\n              body: body\n            };\n            _context4.next = 5;\n            return createDoc(documentUri, options);\n\n          case 5:\n            return _context4.abrupt(\"return\", _context4.sent);\n\n          case 8:\n            _context4.prev = 8;\n            _context4.t0 = _context4[\"catch\"](1);\n            throw _context4.t0;\n\n          case 11:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _callee4, null, [[1, 8]]);\n  }));\n\n  return function createDocument(_x5) {\n    return _ref4.apply(this, arguments);\n  };\n}();\nexport var createDocumentWithTurtle = /*#__PURE__*/function () {\n  var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(documentUri) {\n    var body,\n        _args5 = arguments;\n    return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            body = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : '';\n            _context5.prev = 1;\n            return _context5.abrupt(\"return\", createDoc(documentUri, {\n              method: 'PUT',\n              headers: {\n                'Content-Type': 'text/turtle'\n              },\n              body: body\n            }));\n\n          case 5:\n            _context5.prev = 5;\n            _context5.t0 = _context5[\"catch\"](1);\n            throw _context5.t0;\n\n          case 8:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _callee5, null, [[1, 5]]);\n  }));\n\n  return function createDocumentWithTurtle(_x6) {\n    return _ref5.apply(this, arguments);\n  };\n}();\nexport var createNonExistentDocument = /*#__PURE__*/function () {\n  var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6(documentUri) {\n    var body,\n        result,\n        _args6 = arguments;\n    return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            body = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : '';\n            _context6.prev = 1;\n            _context6.next = 4;\n            return documentExists(documentUri);\n\n          case 4:\n            result = _context6.sent;\n            return _context6.abrupt(\"return\", result.status === 404 ? createDocument(documentUri, body) : null);\n\n          case 8:\n            _context6.prev = 8;\n            _context6.t0 = _context6[\"catch\"](1);\n            throw _context6.t0;\n\n          case 11:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _callee6, null, [[1, 8]]);\n  }));\n\n  return function createNonExistentDocument(_x7) {\n    return _ref6.apply(this, arguments);\n  };\n}();\nexport var fetchLdflexDocument = /*#__PURE__*/function () {\n  var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7(documentUri) {\n    var result, document;\n    return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            _context7.prev = 0;\n            _context7.next = 3;\n            return documentExists(documentUri);\n\n          case 3:\n            result = _context7.sent;\n\n            if (!(result.status === 404)) {\n              _context7.next = 6;\n              break;\n            }\n\n            return _context7.abrupt(\"return\", null);\n\n          case 6:\n            _context7.next = 8;\n            return ldflex[documentUri];\n\n          case 8:\n            document = _context7.sent;\n            return _context7.abrupt(\"return\", document);\n\n          case 12:\n            _context7.prev = 12;\n            _context7.t0 = _context7[\"catch\"](0);\n            throw _context7.t0;\n\n          case 15:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _callee7, null, [[0, 12]]);\n  }));\n\n  return function fetchLdflexDocument(_x8) {\n    return _ref7.apply(this, arguments);\n  };\n}();\nexport var resourceExists = /*#__PURE__*/function () {\n  var _ref8 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8(resourcePath) {\n    var result;\n    return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n      while (1) {\n        switch (_context8.prev = _context8.next) {\n          case 0:\n            _context8.prev = 0;\n            _context8.next = 3;\n            return auth.fetch(resourcePath);\n\n          case 3:\n            result = _context8.sent;\n            return _context8.abrupt(\"return\", result.status === 403 || result.status === 200);\n\n          case 7:\n            _context8.prev = 7;\n            _context8.t0 = _context8[\"catch\"](0);\n            errorToaster(_context8.t0.message, 'Error');\n\n          case 10:\n          case \"end\":\n            return _context8.stop();\n        }\n      }\n    }, _callee8, null, [[0, 7]]);\n  }));\n\n  return function resourceExists(_x9) {\n    return _ref8.apply(this, arguments);\n  };\n}();\nexport var discoverInbox = /*#__PURE__*/function () {\n  var _ref9 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(document) {\n    var _documentExists, inboxDocument, inbox;\n\n    return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n      while (1) {\n        switch (_context9.prev = _context9.next) {\n          case 0:\n            _context9.prev = 0;\n            _context9.next = 3;\n            return resourceExists(document);\n\n          case 3:\n            _documentExists = _context9.sent;\n\n            if (_documentExists) {\n              _context9.next = 6;\n              break;\n            }\n\n            return _context9.abrupt(\"return\", false);\n\n          case 6:\n            _context9.next = 8;\n            return ldflex[document]['ldp:inbox'];\n\n          case 8:\n            inboxDocument = _context9.sent;\n\n            if (!inboxDocument) {\n              _context9.next = 15;\n              break;\n            }\n\n            _context9.next = 12;\n            return inboxDocument.value;\n\n          case 12:\n            _context9.t0 = _context9.sent;\n            _context9.next = 16;\n            break;\n\n          case 15:\n            _context9.t0 = false;\n\n          case 16:\n            inbox = _context9.t0;\n            return _context9.abrupt(\"return\", inbox);\n\n          case 20:\n            _context9.prev = 20;\n            _context9.t1 = _context9[\"catch\"](0);\n            throw _context9.t1;\n\n          case 23:\n          case \"end\":\n            return _context9.stop();\n        }\n      }\n    }, _callee9, null, [[0, 20]]);\n  }));\n\n  return function discoverInbox(_x10) {\n    return _ref9.apply(this, arguments);\n  };\n}();\n/**\n * Given a resource link, find an inbox linked from it, if any exist\n * @param resourcePath\n * @returns {Promise<string|*>}\n */\n\nexport var getLinkedInbox = /*#__PURE__*/function () {\n  var _ref10 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10(resourcePath) {\n    var inboxLinkedPath;\n    return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n      while (1) {\n        switch (_context10.prev = _context10.next) {\n          case 0:\n            _context10.prev = 0;\n            _context10.next = 3;\n            return ldflex[resourcePath].inbox;\n\n          case 3:\n            inboxLinkedPath = _context10.sent;\n\n            if (!inboxLinkedPath) {\n              _context10.next = 6;\n              break;\n            }\n\n            return _context10.abrupt(\"return\", inboxLinkedPath.value);\n\n          case 6:\n            return _context10.abrupt(\"return\", '');\n\n          case 9:\n            _context10.prev = 9;\n            _context10.t0 = _context10[\"catch\"](0);\n            throw _context10.t0;\n\n          case 12:\n          case \"end\":\n            return _context10.stop();\n        }\n      }\n    }, _callee10, null, [[0, 9]]);\n  }));\n\n  return function getLinkedInbox(_x11) {\n    return _ref10.apply(this, arguments);\n  };\n}();","map":{"version":3,"sources":["D:/Downloads/Test HTML/react-medical-app/src/utils/ldflex-helper.js"],"names":["auth","ldflex","errorToaster","documentExists","documentUri","fetch","headers","createDoc","options","deleteFile","url","method","createDocument","body","createDocumentWithTurtle","createNonExistentDocument","result","status","fetchLdflexDocument","document","resourceExists","resourcePath","message","discoverInbox","inboxDocument","value","inbox","getLinkedInbox","inboxLinkedPath"],"mappings":"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","sourcesContent":["import auth from 'solid-auth-client';\nimport ldflex from '@solid/query-ldflex';\nimport { errorToaster } from '@utils';\n\nexport const documentExists = async documentUri =>\n  auth.fetch(documentUri, {\n    headers: {\n      'Content-Type': 'text/turtle'\n    }\n  });\n\nexport const createDoc = async (documentUri, options) => {\n  try {\n    return await auth.fetch(documentUri, options);\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const deleteFile = async url => {\n  try {\n    return await auth.fetch(url, { method: 'DELETE' });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const createDocument = async (documentUri, body = '') => {\n  try {\n    const options = {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'text/turtle'\n      },\n      body\n    };\n    return await createDoc(documentUri, options);\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const createDocumentWithTurtle = async (documentUri, body = '') => {\n  try {\n    return createDoc(documentUri, {\n      method: 'PUT',\n      headers: {\n        'Content-Type': 'text/turtle'\n      },\n      body\n    });\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const createNonExistentDocument = async (documentUri, body = '') => {\n  try {\n    const result = await documentExists(documentUri);\n\n    return result.status === 404 ? createDocument(documentUri, body) : null;\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const fetchLdflexDocument = async documentUri => {\n  try {\n    const result = await documentExists(documentUri);\n    if (result.status === 404) return null;\n    const document = await ldflex[documentUri];\n    return document;\n  } catch (e) {\n    throw e;\n  }\n};\n\nexport const resourceExists = async resourcePath => {\n  try {\n    const result = await auth.fetch(resourcePath);\n    return result.status === 403 || result.status === 200;\n  } catch (e) {\n    errorToaster(e.message, 'Error');\n  }\n};\n\nexport const discoverInbox = async document => {\n  try {\n    const documentExists = await resourceExists(document);\n    if (!documentExists) return false;\n\n    const inboxDocument = await ldflex[document]['ldp:inbox'];\n    const inbox = inboxDocument ? await inboxDocument.value : false;\n    return inbox;\n  } catch (error) {\n    throw error;\n  }\n};\n\n/**\n * Given a resource link, find an inbox linked from it, if any exist\n * @param resourcePath\n * @returns {Promise<string|*>}\n */\nexport const getLinkedInbox = async resourcePath => {\n  try {\n    const inboxLinkedPath = await ldflex[resourcePath].inbox;\n    if (inboxLinkedPath) {\n      return inboxLinkedPath.value;\n    }\n    return '';\n  } catch (error) {\n    throw error;\n  }\n};\n"]},"metadata":{},"sourceType":"module"}