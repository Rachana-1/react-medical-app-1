{"ast":null,"code":"import _regeneratorRuntime from \"D:\\\\Downloads\\\\Test HTML\\\\testgenerator\\\\Test_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/regenerator\";\nimport _asyncToGenerator from \"D:\\\\Downloads\\\\Test HTML\\\\testgenerator\\\\Test_app\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/asyncToGenerator\";\n\nvar _this = this,\n    _jsxFileName = \"D:\\\\Downloads\\\\Test HTML\\\\testgenerator\\\\Test_app\\\\src\\\\components\\\\Notifications\\\\children\\\\NotificationsPanel\\\\children\\\\NotificationItem\\\\notification-item.component.js\";\n\nimport React, { useCallback } from 'react';\nimport moment from 'moment';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Item, Body, Message, Meta, MarkAsRead, Delete, Img } from \"./notification-item.style\";\n\n/**\n * Notification item to be shown for each notification in the notification list\n */\nvar NotificationItem = function NotificationItem(_ref) {\n  var notification = _ref.notification,\n      markAsRead = _ref.markAsRead,\n      children = _ref.children,\n      deleteNotification = _ref.deleteNotification;\n  var read = notification.read;\n  var currentRead = read ? JSON.parse(read) : false;\n  var actor = notification.actor;\n  /**\n   * Redirect notification if it's coming with target\n   * @type {Function}\n   */\n\n  var redirectTo = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            if (!notification.target) {\n              _context.next = 4;\n              break;\n            }\n\n            _context.next = 3;\n            return markAsRead(notification.path, notification.id);\n\n          case 3:\n            window.location = notification.target;\n\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  })), [notification]);\n  /**\n   * @TODO: send boolean to pod like boolean and not string\n   */\n\n  var opCurrentRead = !currentRead;\n  var defaultImage = '/img/icon/empty-profile.svg';\n  var actorImage = notification && notification.actor && notification.actor.image ? notification.actor.image : defaultImage;\n  return /*#__PURE__*/React.createElement(Item, {\n    read: currentRead,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: notification.actor && notification.actor.webId,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Img, {\n    src: actorImage,\n    alt: \"Creator\",\n    onError: function onError(e) {\n      e.target.onerror = null;\n      e.target.src = defaultImage;\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Body, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Message, {\n    onClick: redirectTo,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 11\n    }\n  }, actor && actor.name), \" \", notification.summary), /*#__PURE__*/React.createElement(Meta, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"moment\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 11\n    }\n  }, moment(notification.published).fromNow()), children)), /*#__PURE__*/React.createElement(MarkAsRead, {\n    type: \"button\",\n    className: \"delete\",\n    onClick: function onClick() {\n      return markAsRead(notification.path, notification.id, opCurrentRead ? 'true' : 'false');\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: currentRead ? 'eye-slash' : 'eye',\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }\n  })), /*#__PURE__*/React.createElement(Delete, {\n    type: \"button\",\n    className: \"delete\",\n    onClick: function onClick() {\n      return deleteNotification(notification.path);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(FontAwesomeIcon, {\n    icon: \"times-circle\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }\n  })));\n};\n\nexport default NotificationItem;","map":{"version":3,"sources":["D:/Downloads/Test HTML/testgenerator/Test_app/src/components/Notifications/children/NotificationsPanel/children/NotificationItem/notification-item.component.js"],"names":["React","useCallback","moment","FontAwesomeIcon","Item","Body","Message","Meta","MarkAsRead","Delete","Img","NotificationItem","notification","markAsRead","children","deleteNotification","read","currentRead","JSON","parse","actor","redirectTo","target","path","id","window","location","opCurrentRead","defaultImage","actorImage","image","webId","e","onerror","src","name","summary","published","fromNow"],"mappings":"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","sourcesContent":["import React, { useCallback } from 'react';\nimport moment from 'moment';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { Item, Body, Message, Meta, MarkAsRead, Delete, Img } from './notification-item.style';\n\ntype Props = {\n  notification: Object,\n  markAsRead: Function,\n  children: React.ReactNode,\n  deleteNotification: (fileName: string) => void\n};\n\n/**\n * Notification item to be shown for each notification in the notification list\n */\nconst NotificationItem = ({ notification, markAsRead, children, deleteNotification }: Props) => {\n  const { read } = notification;\n  const currentRead = read ? JSON.parse(read) : false;\n  const { actor } = notification;\n  /**\n   * Redirect notification if it's coming with target\n   * @type {Function}\n   */\n  const redirectTo = useCallback(async () => {\n    if (notification.target) {\n      await markAsRead(notification.path, notification.id);\n      window.location = notification.target;\n    }\n  }, [notification]);\n  /**\n   * @TODO: send boolean to pod like boolean and not string\n   */\n\n  const opCurrentRead = !currentRead;\n  const defaultImage = '/img/icon/empty-profile.svg';\n  const actorImage =\n    notification && notification.actor && notification.actor.image\n      ? notification.actor.image\n      : defaultImage;\n  return (\n    <Item read={currentRead}>\n      <a href={notification.actor && notification.actor.webId}>\n        <Img\n          src={actorImage}\n          alt=\"Creator\"\n          onError={e => {\n            e.target.onerror = null;\n            e.target.src = defaultImage;\n          }}\n        />\n      </a>\n      <Body>\n        <Message onClick={redirectTo}>\n          <strong>{actor && actor.name}</strong> {notification.summary}\n        </Message>\n        <Meta>\n          <span className=\"moment\">{moment(notification.published).fromNow()}</span>\n          {children}\n        </Meta>\n      </Body>\n      <MarkAsRead\n        type=\"button\"\n        className=\"delete\"\n        onClick={() =>\n          markAsRead(notification.path, notification.id, opCurrentRead ? 'true' : 'false')\n        }\n      >\n        <FontAwesomeIcon icon={currentRead ? 'eye-slash' : 'eye'} />\n      </MarkAsRead>\n      <Delete\n        type=\"button\"\n        className=\"delete\"\n        onClick={() => deleteNotification(notification.path)}\n      >\n        <FontAwesomeIcon icon=\"times-circle\" />\n      </Delete>\n    </Item>\n  );\n};\n\nexport default NotificationItem;\n"]},"metadata":{},"sourceType":"module"}